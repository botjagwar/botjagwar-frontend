<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" prefix="og: http://ogp.me/ns#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<head profile="http://gmpg.org/xfn/11">
    <title>Word - Botjagwar</title>
    <meta content="">
    <link rel="stylesheet" href="lib/datatable/jquery.dataTables.min.css"/>
    <link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.css"/>
    <style>
    </style>
    <script type="text/javascript" src='lib/vue.js'></script>
  </head>
  <script type="module" src='js/utils.js'></script>
  <script type="module" src='js/word.js'></script>

  <body>
	<div style="margin:5%;" class="mr-md-3" id='app'>
    	<h1>{{word.word}}</h1>
      <h2>
      <a v-bind:href="'/dictionary.html?language=' + word.language">{{language_mapping[word.language]}}</a></h2>
      <h3>{{word.part_of_speech}}</h3>
      <table class='table table-sm table-bordered'>
        <thead>
          <th>ID</th>
          <th>definition</th>
          <th>language</th>
          <th>actions</th>
        </thead>
        <tr v-for="definition in word.definitions">
            <td>{{definition.id}}</td>
            <td>
                <a v-if="definition.id" v-bind:href="'/definition.html?defid=' + definition.id">{{definition.definition}}</a>
                <span v-else>{{definition.definition}}</stan>
            </td>
            <td>({{language_mapping[definition.language]}})</td>
            <td>
              <button type="button" class="btn btn-sm btn-danger" v-on:click='deleteDefinition(definition)'>
              delete</button>
            </td>
        </tr>
        <hr>
        <tr>
          <td></td>
          <td>
             <input v-model="new_definition.definition" @keyup.enter='addDefinition' placeholder="add definition">
          </td>
          <td>
            <input v-model="new_definition.language" @keyup.enter='addDefinition' placeholder="set language" value="mg">
              <button class="btn btn-primary btn-sm" type="button" v-on:click='addDefinition'>add</button>
          </td>
        </tr>
      </table>
      <table class='table table-sm table-bordered'>
        <tr>
         
          <td><button class="btn btn-success" type="button" v-on:click='saveChanges'>
            Save <span class="badge badge-light">{{editCount}}</span></button>
          </td>
          <td>new definitions: {{new_definitions.length}}</td>
          <td>to delete: {{definitions_to_delete.length}}</td>
          <td>edited: {{edited_definitions.length}}</td>
        </tr>
        <tr>
          <td><span class="badge badge-info" id='status_msg'>Status: {{message}}</span></td>
        </tr>
      </table>


	</div>
  </body>
</html>